<h2 class="mt-1 text-800">Images</h2>

@if (images.isError()) {
  <p-messages severity="error">
    <ng-template pTemplate>
      <div>
        <span class="font-bold">Failed to retrieve images:</span><br />
        {{ images.error().error.message }}
      </div>
    </ng-template>
  </p-messages>
}

@if (images.isLoading()) {
  <div class="border-1 border-200 border-round">
    <p-table [value]="[{}, {}, {}, {}]">
      <ng-template pTemplate="header">
        <tr>
          <th>Name</th>
          <th>Version</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-image>
        <tr>
          <td><p-skeleton></p-skeleton></td>
          <td><p-skeleton></p-skeleton></td>
        </tr>
      </ng-template>
    </p-table>
  </div>
}

@if (images.isSuccess()) {
  <div class="border-1 border-200 border-round">
    <p-table [value]="images.data()">
      <ng-template pTemplate="header">
        <tr>
          <th>Name</th>
          <th>Version</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-image>
        <tr>
          <td>{{ getName(image) }}</td>
          <td>{{ getVersion(image) }}</td>
        </tr>
      </ng-template>
    </p-table>
  </div>
}
